import os
import subprocess
import sys
import os.path



#Running without the sandbox have a single pcap file
#all_datasets_folder = sys.argv[1]  ###All the datasets folder
#merged_folder = sys.argv[2]  ###To store the selected dataset

all_datasets_folder = "allan_outputs/network_raw_data/"
merged_folder = "allan_outputs/bro_input/"
checkingfolder = "allan_outputs/bro_done/"

all_datasets = os.listdir(all_datasets_folder)
print(all_datasets)
datasets_selected_paths = []

for dataset_folder in all_datasets:
    datasets = os.listdir(all_datasets_folder + "/" + dataset_folder)
    print("inside the dataset function")
    list_contains_ips = []
    no_of_contains_ips = []
    list_contains_ext_ips = []

    for dataset in datasets:
        print (dataset)
        # prevDonePath = checkingfolder + "/" + dataset
        # if (os.path.isfile(prevDonePath)):
        #     print ("Previosly processed")
        #     continue
        path1 = all_datasets_folder + "/" + dataset_folder + "/" + dataset
        os.system("cp " + path1 + " " + merged_folder)
